<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book A Nurse</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="lpgo.png">
    <script src="https://kit.fontawesome.com/3bcffecad9.js" crossorigin="anonymous"></script>
</head>
<body>
    
    
    <div class="main-about" id="about">
        
        <div class="about-main-div">
            
            <div class="main-inner-about">
                
            </div>
            <div class="main-inner-about">
                <div id="random">
                <div class="about-right-content">
                    <h2>Find a Nurse</h2>
                    <h1>A Perfect Helping Hand</h1>
                    <p>Facility provided for helping people in absence of loved ones</p>
    
                </div>
                <div id="photo-nurse">
                    <img src="img-dentist-2.png" alt="">
                </div>
            </div>
            
            <button>
                Click Here
            </button>
            </div>
    
        </div>
    </div>
    <div class="search-container">
        <form id="searchForm">
            <input type="text" id="searchInput" name="search" placeholder="Search for a nurse...">
            <button type="submit">Search</button>
        </form>
    </div>

    <div id="results">
        <!-- Search results will appear here -->
    </div>

    <script>
        document.getElementById('searchForm').addEventListener('submit', function(e) {
            e.preventDefault(); // Prevent page reload

            const searchValue = document.getElementById('searchInput').value;
            if (searchValue) {
                fetchResults(searchValue);
            } else {
                alert('Please enter a name to search.');
            }
        });

        function fetchResults(search) {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', `search_nurse.php?search=${encodeURIComponent(search)}`, true);

            xhr.onload = function() {
                if (this.status === 200) {
                    try {
                        const results = JSON.parse(this.responseText);
                        let output = '';

                        if (results.length > 0) {
                            results.forEach(function(nurse) {
                                output += `
                                    <div class="nurse">
                                        <img src="${nurse.photo}" alt="${nurse.name}">
                                        <h2>${nurse.name}</h2>
                                        <p>Specialization: ${nurse.specialization}</p>
                                        <p>Contact: ${nurse.contact_info}</p>
                                        <p>Status: ${nurse.availability_status}</p>
                                        <p>Rating: ${nurse.rating}</p>
                                    </div>
                                `;
                            });
                        } else {
                            output = '<p>No nurses found.</p>';
                        }

                        document.getElementById('results').innerHTML = output;
                    } catch (e) {
                        console.error('Error parsing JSON:', e);
                    }
                } else {
                    console.error('Error fetching data:', this.statusText);
                }
            };

            xhr.onerror = function() {
                console.error('Request error');
            };

            xhr.send();
        }
    </script>
    <div class="main-our-doctors"></div>
        <div class="doctor-heading">
            <h1> Our <span>Nurses</span></h1>
        </div>

        <div class="doctor-inner-main-div">

            <div class="doctor-innerbox" id="ourdoctors">

                <div class="doctor-icons">
                    <i class="fa-solid fa-heart" aria-hidden="true"></i>
                    <i class="fa-solid fa-share" aria-hidden="true"></i>
                    <i class="fa-solid fa-eye" aria-hidden="true"></i>
                </div>

                <div class="teamimg">
                    <img src="team1.jpg" alt="">
                </div>

                <div class="doc-innernames">
                    <h2>Mr Robert Gray</h2>
                </div>
                
            </div>

            <div class="doctor-innerbox">

                <div class="doctor-icons">
                    <i class="fa-solid fa-heart" aria-hidden="true"></i>
                    <i class="fa-solid fa-share" aria-hidden="true"></i>
                    <i class="fa-solid fa-eye" aria-hidden="true"></i>
                </div>

                <div class="teamimg">
                    <img src="team2.jpg" alt="">
                </div>

                <div class="doc-innernames">
                    <h2>Ankita</h2>
                </div>
                
            </div>

            <div class="doctor-innerbox">

                <div class="doctor-icons">
                    <i class="fa-solid fa-heart" aria-hidden="true"></i>
                    <i class="fa-solid fa-share" aria-hidden="true"></i>
                    <i class="fa-solid fa-eye" aria-hidden="true"></i>
                </div>

                <div class="teamimg">
                    <img src="team3.jpg" alt="">
                </div>

                <div class="doc-innernames">
                    <h2>Himanshu</h2>
                </div>
                
            </div>

            <div class="doctor-innerbox">

                <div class="doctor-icons">
                    <i class="fa-solid fa-heart" aria-hidden="true"></i>
                    <i class="fa-solid fa-share" aria-hidden="true"></i>
                    <i class="fa-solid fa-eye" aria-hidden="true"></i>
                </div>

                <div class="teamimg">
                    <img src="team4.jpg" alt="">
                </div>

                <div class="doc-innernames">
                    <h2>Apurva</h2>
                </div>
                
            </div>

            <div class="doctor-innerbox">

                <div class="doctor-icons">
                    <i class="fa-solid fa-heart" aria-hidden="true"></i>
                    <i class="fa-solid fa-share" aria-hidden="true"></i>
                    <i class="fa-solid fa-eye" aria-hidden="true"></i>
                </div>

                <div class="teamimg">
                    <img src="team5.jpg" alt="">
                </div>

                <div class="doc-innernames">
                    <h2>Kuldeep</h2>
                </div>
                
            </div>

            <div class="doctor-innerbox">

                <div class="doctor-icons">
                    <i class="fa-solid fa-heart" aria-hidden="true"></i>
                    <i class="fa-solid fa-share" aria-hidden="true"></i>
                    <i class="fa-solid fa-eye" aria-hidden="true"></i>
                </div>

                <div class="teamimg">
                    <img src="team6.jpg" alt="">
                </div>

                <div class="doc-innernames">
                    <h2>Mr Robert Gray</h2>
                </div>
                
            </div>
        </div>

    </div>
</body>
</html>